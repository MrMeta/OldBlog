{% macro render_blog_post(post) %}
  <div class="blog-post">
    <h2><a href="{{ post|url }}">{{ post.title }}</a></h2>
  <div>
    <span class="post-date">{{ post.pub_date|datetimeformat('YYYY-MM-dd') }}</span>
  </div>
  {% set DESC_LIMIT = 80 %}
  {% set body_length = post.body.html|striptags|length %}
  {% if body_length >= DESC_LIMIT %}
    {{ (post.body.html|striptags)[:DESC_LIMIT] }} ...
  {% else %}
    {{ post.body.html|striptags }}
  {% endif %}
  </div>
{% endmacro %}
